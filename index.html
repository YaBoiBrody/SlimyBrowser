<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ratchet Method</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>


.cancel-button {
    background-color: #007acc;
}

.cancel-button:hover {
    background-color: #005a8b;
}



	.button-style {
    background-color: #333;
    border: none;
    padding: 11.55px 15.4px;
    border-radius: 11px;
    font-size: 0.924rem;
    color: #e6e6e6;
    font-family: 'Poppins', sans-serif;
    transition: all 0.3s ease;
    cursor: pointer;
    margin-top: 15px;
    text-align: center;
}

.button-style:hover {
    background-color: #007acc;
}


	.popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 100;
}

.popup {
    background-color: #2e2e2e;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    text-align: center;
}

.popup h2 {
    color: #fff;
}

.popup p {
    color: #ddd;
}

.popup-buttons button {
    background-color: #333;
    border: none;
    padding: 10px 15px;
    border-radius: 5px;
    font-size: 1rem;
    color: #e6e6e6;
    margin: 10px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.popup-buttons button:hover {
    background-color: #007acc;
}


        /* Reset and Universal Styles */
        *, *:before, *:after {
            box-sizing: border-box;
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Poppins', sans-serif;
            background-color: #1f1f1f;
            color: #ddd;
            overflow: auto;
        }

        /* Main content styling */
        .content {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 22px;
        }

        .container {
            z-index: 2;
            padding: 15.4px;
            border-radius: 16.5px;
            max-width: 539px;
            width: 73.15%;
            box-shadow: 0 8px 27.5px rgba(0, 0, 0, 0.2);
            text-align: center;
            background-color: #2e2e2e;
            margin-bottom: 23.1px;
        }

        h1 {
            font-size: 1.925rem;
            margin-bottom: 7.7px;
            color: #fff;
        }

        .logo {
            width: 61.6%;
            margin: 15.4px 0;
            pointer-events: none;
            transition: transform 0.4s ease;
        }

        /* Input Group */
        .input-group {
            display: flex;
            margin-bottom: 7.7px;
            justify-content: center;
            position: relative;
        }

        input[type="text"] {
            flex: 1;
            padding: 7.7px 34.65px 7.7px 11.55px;
            border: 2px solid #444;
            border-radius: 5.5px;
            font-size: 0.77rem;
            color: #ddd;
            background-color: #333;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="white"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/></svg>');
            background-repeat: no-repeat;
            background-size: 26.4px 26.4px;
            background-position: 95% center;
            transition: all 0.3s ease;
        }

        input[type="text"]:hover, input[type="text"]:focus {
            border-color: #007acc;
            outline: none;
        }

        /* Button Styles */
        #sitesButton, #helpButton {
            background-color: #333;
            border: none;
            padding: 11.55px 15.4px;
            border-radius: 11px;
            font-size: 0.924rem;
            color: #e6e6e6;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
            cursor: pointer;
            margin-top: 15px;
            text-align: center;
        }

        #sitesButton:hover {
            background-color: #007acc;
        }

        /* Sites Menu */
        #sitesMenu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(46,46,46, 0.95);
            z-index: 5;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 33px;
            transition: opacity 0.5s;
        }

        .sites-list {
            display: flex;
            flex-wrap: wrap;
            gap: 33px;
            justify-content: center;
            align-items: center;
        }

        .site-item {
            margin: 16.5px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #2e2e2e;
            padding: 16.5px;
            border-radius: 11px;
            transition: transform 0.3s;
            transition: opacity 0.5s;
	  }
		
		

        .site-item:hover {
            transform: scale(1.1);
        }

        .site-item img {
            width: 42.35px;
            height: 42.35px;
            margin-bottom: 11px;
        }

        .site-item span {
            color: #e6e6e6;
            font-size: 0.77rem;
            font-weight: 600;
        }

        /* Close Button */
        #sitesMenu button {
            padding: 7.7px 15.4px;
            background-color: #007acc;
            border: none;
            border-radius: 5.5px;
            font-size: 0.847rem;
            color: #fff;
            cursor: pointer;
            position: absolute;
            top: 22px;
            right: 22px;
            transition: background-color 0.3s;
        }

        #sitesMenu button:hover {
            background-color: #005a8b;
        }

        /* Starfield Animation */
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1;
        }

        .star {
            position: absolute;
            background-color: #fff;
            width: 14.52px;
            height: 14.52px;
            border-radius: 24%;
            animation: drift 10s infinite;
            transform: rotate(0deg);
            filter: blur(1.43px);
        }

        @keyframes drift {
            from {
                transform: translateY(-100vh) rotate(0deg);
            }
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        /* Loading Screen Styles */
        #loadingScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #111;
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            transition: opacity 1s;
        }

        #loadingBarContainer {
            position: relative;
            width: 40%;
            height: 18.15px;
            background-color: #333;
            border-radius: 12.1px;
            overflow: hidden;
            margin-top: 24.2px;
        }

        #loadingBar {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 0%;
            background-color: #00ff00;
            transition: width 0.8s;
        }

        .status-text {
            font-size: 1.016rem;
            color: #e6e6e6;
        
		
    </style>
</head>

<body oncontextmenu="return false">

<div id="popupOverlay" class="popup-overlay">
    <div class="popup">
        <h2>Please Read</h2>
        <p>This button is only used to fix issues with websites that are first-person shooters and similar, including GeForce Now.</p>
        <p>If you are not currently experiencing problems with any websites, do not change this setting.</p>
        <p>If you are experiencing issues, you may change this setting, but please remember:</p>
        <p><strong>THIS IS PERMANENT. TO RETURN TO THE MAIN PAGE, YOU MUST RESTART SPARKVUE.</strong></p>
        <div class="popup-buttons">
            <button id="popupOk">OK</button>
            <button id="popupCancel" class="cancel-button">Cancel</button>
        </div>
    </div>
</div>


    <!-- Loading Screen Structure -->
    <div id="loadingScreen">
        <div class="status-text">Loading...</div>
        <div id="loadingBarContainer">
            <div id="loadingBar"></div>
        </div>
    </div>

    <!-- Main Content Structure -->
    <div class="content">
        <div id="starfield"></div>

        <div class="container">
            <h1>Ratchet Method</h1>
            <img class="logo" src="https://media.tenor.com/odF-mX4YCcwAAAAC/rachet-cat-attack.gif" alt="Ratchet Logo">
            <div class="input-group">
                <input type="text" id="searchInput" placeholder="" onkeyup="enterSearch(event)">
            </div>
            <button id="sitesButton" onclick="toggleSitesMenu()">Sites</button>
            <button id="helpButton">Use the Two arrows on your chromebook's keyboard to move back and forth throughout pages. When you click on any of the buttons or use the search, it will pop up in an unblocked window. To return to this homepage, hit the X in the top right of the window.</button>
			<button id="toggleOpenModeButton" class="button-style">Current mode: Temporary Popup (IF YOUR HAVING TROUBLE WITH FPS GAMES CHANGE THIS)</button>

        </div>
    </div>

<!-- Sites Menu -->
<div id="sitesMenu">

    <div class="sites-list">
         <!-- ChatGPT -->
<div class="site-item" data-url="https://chat.openai.com">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/ChatGPT_logo.svg/1200px-ChatGPT_logo.svg.png" alt="ChatGPT">
    <span>ChatGPT</span>
</div>

<div class="site-item" data-url="https://cheatnetwork.eu">
    <img src="https://www.google.com/s2/favicons?sz=128&domain_url=cheatnetwork.eu" alt="CheatNetwork">
    <span>CheatNetwork</span>
</div>

<div class="site-item" data-url="https://cplegacy.com">
    <img src="https://r2.e-z.host/601dd602-18bf-4a30-b9eb-9aba2e181e74/vidvje9z.png" alt="Club Penguin">
    <span>Club Penguin</span>
</div>

<div class="site-item" data-url="https://orteil.dashnet.org/cookieclicker/">
    <img src="https://play-lh.googleusercontent.com/OssE3ON9WsLZedOF39UCgtIHcRYfV0OqQS9O78LfmRdxSyKdHX52G2OFa0LkG6D-k9w" alt="Cookie Clicker">
    <span>Cookie Clicker</span>
</div>

<div class="site-item" data-url="https://coolmathgames.com">
    <img src="https://r2.e-z.host/601dd602-18bf-4a30-b9eb-9aba2e181e74/lrnfi2z8.png" alt="CoolMath">
    <span>CoolMath</span>
</div>


<div class="site-item" data-url="https://chat.openai.com">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/ChatGPT_logo.svg/1200px-ChatGPT_logo.svg.png" alt="ChatGPT">
    <span>ChatGPT</span>
</div>

<div class="site-item" data-url="https://cheatnetwork.eu">
    <img src="https://www.google.com/s2/favicons?sz=128&domain_url=cheatnetwork.eu" alt="CheatNetwork">
    <span>CheatNetwork</span>
</div>

<div class="site-item" data-url="https://cplegacy.com">
    <img src="https://r2.e-z.host/601dd602-18bf-4a30-b9eb-9aba2e181e74/vidvje9z.png" alt="Club Penguin">
    <span>Club Penguin</span>
</div>

<div class="site-item" data-url="https://orteil.dashnet.org/cookieclicker/">
    <img src="https://play-lh.googleusercontent.com/OssE3ON9WsLZedOF39UCgtIHcRYfV0OqQS9O78LfmRdxSyKdHX52G2OFa0LkG6D-k9w" alt="Cookie Clicker">
    <span>Cookie Clicker</span>
</div>

<div class="site-item" data-url="https://coolmathgames.com">
    <img src="https://r2.e-z.host/601dd602-18bf-4a30-b9eb-9aba2e181e74/lrnfi2z8.png" alt="CoolMath">
    <span>CoolMath</span>
</div>

<div class="site-item" data-url="https://crazygames.com">
    <img src="https://www.google.com/s2/favicons?sz=128&domain_url=crazygames.com" alt="Crazy Games">
    <span>Crazy Games</span>
</div>

<div class="site-item" data-url="https://discord.com">
    <img src="https://r2.e-z.host/601dd602-18bf-4a30-b9eb-9aba2e181e74/j9ayl2y9.png" alt="Discord">
    <span>Discord</span>
</div>

<!-- Continue with the rest of the items in a similar fashion -->


<div class="site-item" data-url="https://chat.openai.com">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/ChatGPT_logo.svg/1200px-ChatGPT_logo.svg.png" alt="ChatGPT">
    <span>ChatGPT</span>
</div>

<div class="site-item" data-url="https://cheatnetwork.eu">
    <img src="https://www.google.com/s2/favicons?sz=128&domain_url=cheatnetwork.eu" alt="CheatNetwork">
    <span>CheatNetwork</span>
</div>

<div class="site-item" data-url="https://cplegacy.com">
    <img src="https://r2.e-z.host/601dd602-18bf-4a30-b9eb-9aba2e181e74/vidvje9z.png" alt="Club Penguin">
    <span>Club Penguin</span>
</div>

<div class="site-item" data-url="https://orteil.dashnet.org/cookieclicker/">
    <img src="https://play-lh.googleusercontent.com/OssE3ON9WsLZedOF39UCgtIHcRYfV0OqQS9O78LfmRdxSyKdHX52G2OFa0LkG6D-k9w" alt="Cookie Clicker">
    <span>Cookie Clicker</span>
</div>

<div class="site-item" data-url="https://coolmathgames.com">
    <img src="https://r2.e-z.host/601dd602-18bf-4a30-b9eb-9aba2e181e74/lrnfi2z8.png" alt="CoolMath">
    <span>CoolMath</span>
</div>

<div class="site-item" data-url="https://crazygames.com">
    <img src="https://www.google.com/s2/favicons?sz=128&domain_url=crazygames.com" alt="Crazy Games">
    <span>Crazy Games</span>
</div>

<div class="site-item" data-url="https://discord.com">
    <img src="https://r2.e-z.host/601dd602-18bf-4a30-b9eb-9aba2e181e74/j9ayl2y9.png" alt="Discord">
    <span>Discord</span>
</div>

<div class="site-item" data-url="https://www.calculatorsoup.com/calculators/math/fractions.php">
    <img src="https://cdn.calculatorsoup.com/images/thumbnails/calculator_soup_logo_260x260.png" alt="Fraction Calculator">
    <span>Fraction Calculator</span>
</div>

<div class="site-item" data-url="https://www.symbolab.com/solver/distributive-property-calculator">
    <img src="https://m.media-amazon.com/images/I/71hSAIENHkL._AC_UF894,1000_QL80_.jpg" alt="Distributive Property Calculator">
    <span>Distributive Property Calculator</span>
</div>

<div class="site-item" data-url="https://play.geforcenow.com">
    <img src="https://yt3.googleusercontent.com/ytc/APkrFKZIF_w8I7JTU072wsWefvaTBMmzkiuJfOKlOAfcOs0=s900-c-k-c0x00ffffff-no-rj" alt="GeForce Now">
    <span>GeForce Now</span>
</div>

<div class="site-item" data-url="https://mail.google.com">
    <img src="https://play-lh.googleusercontent.com/KSuaRLiI_FlDP8cM4MzJ23ml3og5Hxb9AapaGTMZ2GgR103mvJ3AAnoOFz1yheeQBBI" alt="Gmail">
    <span>Gmail</span>
</div>

<div class="site-item" data-url="https://www.instagram.com/">
    <img src="https://instagram.com/static/images/ico/favicon.ico/36b3ee2d91ed.ico" alt="Instagram">
    <span>Instagram</span>
</div>

<div class="site-item" data-url="https://www.google.com">
    <img src="https://pbs.twimg.com/profile_images/1605297940242669568/q8-vPggS_400x400.jpg" alt="Google">
    <span>Google</span>
</div>

<div class="site-item" data-url="https://mem.rip/kahoot">
    <img src="https://www.google.com/s2/favicons?sz=128&domain_url=mem.rip" alt="Kahoot Bot">
    <span>Kahoot Bot</span>
</div>

<div class="site-item" data-url="https://krunker.io">
    <img src="https://play-lh.googleusercontent.com/YiIdFPGRikQVMAcT8Bg5MiYRgi9YHwsFfP5RsfBcpwKqsl_y3AWqbJ8rhJ0TnLIsdg" alt="Krunker">
    <span>Krunker</span>
</div>

<div class="site-item" data-url="https://ravengreens.vercel.app">
    <img src="https://i.imgflip.com/63qbua.png" alt="Minecraft 1.8.8">
    <span>Minecraft 1.8.8</span>
</div>

<div class="site-item" data-url="https://now.gg">
    <img src="https://images.crunchbase.com/image/upload/c_lpad,f_auto,q_auto:eco,dpr_1/utxrpthyzouvxkvh1kmw" alt="Now.gg">
    <span>Now.gg</span>
</div>

<div class="site-item" data-url="https://www.reddit.com/">
    <img src="https://www.redditinc.com/assets/images/site/reddit-logo.png" alt="Reddit">
    <span>Reddit</span>
</div>

<div class="site-item" data-url="https://poki.com">
    <img src="https://www.google.com/s2/favicons?sz=128&domain_url=poki.com" alt="Poki">
    <span>Poki</span>
</div>

<div class="site-item" data-url="https://now.gg/play/roblox-corporation/5349/roblox">
    <img src="https://yt3.googleusercontent.com/TkS_SRrMDXl-r_0ZoyllDOQlHL5mNQNLAOuZ2zVVMh9Yq-Ggzf82x6omxY7FsN5ghIxNj-1LZA=s900-c-k-c0x00ffffff-no-rj" alt="Roblox">
    <span>Roblox</span>
</div>

<div class="site-item" data-url="https://scratch.mit.edu/">
    <img src="https://juniortech.org/wp-content/uploads/2020/09/Scratch-cat-logo-300x300px.png" alt="Scratch">
    <span>Scratch</span>
</div>

<div class="site-item" data-url="https://spotify.com">
    <img src="https://www.google.com/s2/favicons?sz=128&domain_url=spotify.com" alt="Spotify">
    <span>Spotify</span>
</div>

<div class="site-item" data-url="https://sansubwayy.web.app/">
    <img src="https://img.poki.com/cdn-cgi/image/quality=78,width=600,height=600,fit=cover,f=auto/7b6443b0074b79bdef21bae09e5cae4b.png" alt="Subway Surfers">
    <span>Subway Surfers</span>
</div>

<div class="site-item" data-url="https://www.snapchat.com/">
    <img src="https://digitallegacyassociation.org/wp-content/uploads/2018/09/Snapchat.jpg" alt="Snapchat">
    <span>Snapchat</span>
</div>

<div class="site-item" data-url="https://store.steampowered.com/">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Steam_icon_logo.svg/800px-Steam_icon_logo.svg.png" alt="Steam">
    <span>Steam</span>
</div>

<div class="site-item" data-url="https://tiktok.com">
    <img src="https://www.rit.edu/sites/rit.edu/files/campaigns/umag/tiktok/tiktok-logo-header.png" alt="TikTok">
    <span>TikTok</span>
</div>

<div class="site-item" data-url="https://twitch.tv">
    <img src="https://play-lh.googleusercontent.com/QLQzL-MXtxKEDlbhrQCDw-REiDsA9glUH4m16syfar_KVLRXlzOhN7tmAceiPerv4Jg" alt="Twitch">
    <span>Twitch</span>
</div>

<div class="site-item" data-url="https://twitter.com">
    <img src="https://cdn-icons-png.flaticon.com/512/124/124021.png" alt="Twitter">
    <span>Twitter</span>
</div>

<div class="site-item" data-url="https://y8.com">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTYqi9V2w5fMb5B576P4AG79WU28pL9WZuUkQ&usqp=CAU" alt="Y8 Games">
    <span>Y8 Games</span>
</div>

<div class="site-item" data-url="https://ratchetstudying.000webhostapp.com">
    <img src="https://media.tenor.com/odF-mX4YCcwAAAAC/rachet-cat-attack.gif" alt="Ratchet Kitty">
    <span>Ratchet Forums</span>
</div>

<div class="site-item" data-url="https://github.com">
    <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="Github">
    <span>Github</span>
</div>

<div class="site-item" data-url="https://youtube.com">
    <img src="https://play-lh.googleusercontent.com/lMoItBgdPPVDJsNOVtP26EKHePkwBg-PkuY9NOrc-fumRtTFP4XhpUNk_22syN4Datc" alt="YouTube">
    <span>YouTube</span>
</div>


    </div>
    <button onclick="toggleSitesMenu()">Close</button>
</div>

 <script>
        // Handling loading screen logic
        const loadingScreen = document.getElementById('loadingScreen');
        const loadingBar = document.getElementById('loadingBar');
        const statusText = document.querySelector('.status-text');
        const loadingMessages = [
            "Bypassing antidaven...",
            "Removing History...",
            "Fanum Taxing GoGuardian Developers..."
        ];
        let loadingIndex = 0;

        function updateLoadingScreen() {
            if (loadingIndex < loadingMessages.length) {
                statusText.textContent = loadingMessages[loadingIndex];
                loadingBar.style.width = ((loadingIndex + 1) / loadingMessages.length) * 100 + "%";
                loadingIndex++;
                setTimeout(updateLoadingScreen, 800);
            } else {
                setTimeout(() => {
                    loadingScreen.style.opacity = "0";
                    document.querySelector('.content').style.display = 'flex';
                    setTimeout(() => {
                        loadingScreen.style.display = "none";
                    }, 1000);
                }, 500);
            }
        }

        setTimeout(updateLoadingScreen, 400);

        // Starfield creation
        const starfield = document.getElementById('starfield');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + 'vw';
            star.style.top = Math.random() * 100 + 'vh';
            star.style.animationDuration = (Math.random() * 5 + 5) + 's';
            star.style.animationDelay = (Math.random() * -5) + 's';
            star.style.transform = 'rotate(' + Math.random() * 360 + 'deg)';
            starfield.appendChild(star);
        }

        // Show or Hide Sites Menu
        function toggleSitesMenu() {
            const sitesMenu = document.getElementById('sitesMenu');
            if (sitesMenu.style.display === "none" || sitesMenu.style.display === "") {
                sitesMenu.style.display = "flex";
                sitesMenu.style.opacity = "0";
                setTimeout(() => {
                    sitesMenu.style.opacity = "1";
                }, 50);
            } else {
                sitesMenu.style.opacity = "0";
                setTimeout(() => {
                    sitesMenu.style.display = "none";
                }, 500);
            }
        }

        // Search functionality
        function enterSearch(event) {
            if (event.key === "Enter") {
                openPage();
            }
        }

        function openPage() {
    var userInput = document.getElementById('searchInput').value;
    var targetUrl = '';

    if (!userInput.trim()) {
        alert("Please enter a search term or URL!");
        return;
    }

    if (userInput.startsWith('http://') || userInput.startsWith('https://')) {
        targetUrl = userInput;
    } else if (userInput.includes('.')) {
        // Checks if userInput has a dot, making an assumption it's a URL
        targetUrl = 'https://' + userInput;
    } else {
        targetUrl = 'https://www.google.com/search?q=' + encodeURIComponent(userInput);
    }

    window.open(targetUrl, '_blank');

}

function filterSites() {
    const searchTerm = document.getElementById('siteSearchInput').value.toLowerCase();
    const siteItems = document.querySelectorAll('.site-item');

    siteItems.forEach(item => {
        const siteName = item.querySelector('span').textContent.toLowerCase();
        if (siteName.includes(searchTerm)) {
            item.style.display = 'flex';
            item.style.opacity = '1';
            item.style.transition = 'opacity 0.5s';
        } else {
            item.style.opacity = '0';
            setTimeout(() => {
                item.style.display = 'none';
            }, 500);
        }
    });
}

// Add a variable at the top of your script to track the current opening mode
let openInNewTab = true;

// Modify the openPage function
function openPage() {
    var userInput = document.getElementById('searchInput').value;
    var targetUrl = '';

    if (!userInput.trim()) {
        alert("Please enter a search term or URL!");
        return;
    }

    if (userInput.startsWith('http://') || userInput.startsWith('https://')) {
        targetUrl = userInput;
    } else if (userInput.includes('.')) {
        targetUrl = 'https://' + userInput;
    } else {
        targetUrl = 'https://www.google.com/search?q=' + encodeURIComponent(userInput);
    }

    // Check the current mode and open the link accordingly
    if (openInNewTab) {
        window.open(targetUrl, '_blank');
    } else {
        window.location.href = targetUrl;
    }
}

// Function to toggle the opening mode
function toggleOpenMode() {
    openInNewTab = !openInNewTab;
    document.getElementById('toggleOpenModeButton').textContent = openInNewTab ? "Current mode: Temporary Popup" : "Current Mode: Permanent Redirect (Fixes issues, but is perma)";
}

// Add the event listener to the new button
document.getElementById('toggleOpenModeButton').addEventListener('click', toggleOpenMode);


// Function to handle site item clicks
function handleSiteItemClick() {
    const url = this.getAttribute('data-url');
    if (openInNewTab) {
        window.open(url, '_blank');
    } else {
        window.location.href = url;
    }
}

// Add click event listeners to all site items
document.addEventListener('DOMContentLoaded', () => {
    const siteItems = document.querySelectorAll('.site-item');
    siteItems.forEach(item => {
        item.addEventListener('click', handleSiteItemClick);
    });
});

// Function to show the popup
function showPopup() {
    document.getElementById('popupOverlay').style.display = 'flex';
}

// Function to hide the popup
function hidePopup() {
    document.getElementById('popupOverlay').style.display = 'none';
}

// Modify the toggleOpenMode function to show the popup when switching to redirect mode
function toggleOpenMode() {
    if (!openInNewTab) {
        openInNewTab = true;
        document.getElementById('toggleOpenModeButton').textContent = "Current mode: Temporary Popup (IF YOUR HAVING TROUBLE WITH FPS GAMES CHANGE THIS)";
    } else {
        showPopup();
    }
}

// Event listeners for the popup buttons
document.getElementById('popupOk').addEventListener('click', function() {
    openInNewTab = false;
    document.getElementById('toggleOpenModeButton').textContent = "Current Mode: Permanent Redirect (Fixes issues, but is perma)";
    hidePopup();
});

document.getElementById('popupCancel').addEventListener('click', function() {
    hidePopup();
});

// Existing code for DOMContentLoaded and other logic...

    </script>
</body>
</html>
